"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/./middleware.ts":
/*!***********************!*\
  !*** ./middleware.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   middleware: () => (/* binding */ middleware)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n\n// Define the paths that should be protected\nconst protectedPaths = [\n    \"/dashboard\",\n    \"/dashboards\",\n    \"/dashboards/*\",\n    \"/catalog\",\n    \"/catalog/*\",\n    \"/settings\",\n    \"/settings/*\",\n    \"/replenishment\",\n    \"/replenishment/*\",\n    \"/sales\",\n    \"/sales/*\",\n    \"/inventory\",\n    \"/inventory/*\",\n    \"/reports\",\n    \"/reports/*\"\n];\n// Define the paths that should be public\nconst publicPaths = [\n    \"/auth/login\",\n    \"/auth/signup\",\n    \"/auth/forgot-password\"\n];\nfunction middleware(request) {\n    const { pathname } = request.nextUrl;\n    const token = request.cookies.get(\"accessToken\")?.value;\n    console.log(\"MIDDLEWARE:\", {\n        pathname,\n        token\n    });\n    // Check if the path should be protected\n    const isProtectedPath = protectedPaths.some((path)=>pathname.startsWith(path));\n    const isPublicPath = publicPaths.some((path)=>pathname.startsWith(path));\n    // If it's a protected path and there's no token, redirect to login\n    if (isProtectedPath && !token) {\n        const loginUrl = new URL(\"/auth/login\", request.url);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(loginUrl);\n    }\n    // If user is logged in and tries to access auth pages, redirect to dashboard\n    if (isPublicPath && token) {\n        const dashboardUrl = new URL(\"/dashboards/main\", request.url);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(dashboardUrl);\n    }\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n}\n// Configure which paths the middleware should run on\nconst config = {\n    matcher: [\n        /*\n     * Match all request paths except for the ones starting with:\n     * - api (API routes)\n     * - _next/static (static files)\n     * - _next/image (image optimization files)\n     * - favicon.ico (favicon file)\n     * - assets (public assets)\n     */ \"/((?!api|_next/static|_next/image|favicon.ico|assets).*)\"\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbWlkZGxld2FyZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMEM7QUFHMUMsNENBQTRDO0FBQzVDLE1BQU1DLGlCQUFpQjtJQUNyQjtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7Q0FHRDtBQUVELHlDQUF5QztBQUN6QyxNQUFNQyxjQUFjO0lBQ2xCO0lBQ0E7SUFDQTtDQUNEO0FBRU0sU0FBU0MsV0FBV0MsT0FBb0I7SUFDN0MsTUFBTSxFQUFFQyxRQUFRLEVBQUUsR0FBR0QsUUFBUUUsT0FBTztJQUNwQyxNQUFNQyxRQUFRSCxRQUFRSSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxnQkFBZ0JDO0lBRWxEQyxRQUFRQyxHQUFHLENBQUMsZUFBZTtRQUFFUDtRQUFVRTtJQUFNO0lBRTdDLHdDQUF3QztJQUN4QyxNQUFNTSxrQkFBa0JaLGVBQWVhLElBQUksQ0FBQ0MsQ0FBQUEsT0FBUVYsU0FBU1csVUFBVSxDQUFDRDtJQUN4RSxNQUFNRSxlQUFlZixZQUFZWSxJQUFJLENBQUNDLENBQUFBLE9BQVFWLFNBQVNXLFVBQVUsQ0FBQ0Q7SUFFbEUsbUVBQW1FO0lBQ25FLElBQUlGLG1CQUFtQixDQUFDTixPQUFPO1FBQzdCLE1BQU1XLFdBQVcsSUFBSUMsSUFBSSxlQUFlZixRQUFRZ0IsR0FBRztRQUNuRCxPQUFPcEIscURBQVlBLENBQUNxQixRQUFRLENBQUNIO0lBQy9CO0lBRUEsNkVBQTZFO0lBQzdFLElBQUlELGdCQUFnQlYsT0FBTztRQUN6QixNQUFNZSxlQUFlLElBQUlILElBQUksb0JBQW9CZixRQUFRZ0IsR0FBRztRQUM1RCxPQUFPcEIscURBQVlBLENBQUNxQixRQUFRLENBQUNDO0lBQy9CO0lBR0EsT0FBT3RCLHFEQUFZQSxDQUFDdUIsSUFBSTtBQUMxQjtBQUVBLHFEQUFxRDtBQUM5QyxNQUFNQyxTQUFTO0lBQ3BCQyxTQUFTO1FBQ1A7Ozs7Ozs7S0FPQyxHQUNEO0tBQ0Q7QUFDSCxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL21pZGRsZXdhcmUudHM/NDIyZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB0eXBlIHsgTmV4dFJlcXVlc3QgfSBmcm9tICduZXh0L3NlcnZlcidcblxuLy8gRGVmaW5lIHRoZSBwYXRocyB0aGF0IHNob3VsZCBiZSBwcm90ZWN0ZWRcbmNvbnN0IHByb3RlY3RlZFBhdGhzID0gW1xuICAnL2Rhc2hib2FyZCcsXG4gICcvZGFzaGJvYXJkcycsXG4gICcvZGFzaGJvYXJkcy8qJyxcbiAgJy9jYXRhbG9nJyxcbiAgJy9jYXRhbG9nLyonLFxuICAnL3NldHRpbmdzJyxcbiAgJy9zZXR0aW5ncy8qJyxcbiAgJy9yZXBsZW5pc2htZW50JyxcbiAgJy9yZXBsZW5pc2htZW50LyonLFxuICAnL3NhbGVzJyxcbiAgJy9zYWxlcy8qJyxcbiAgJy9pbnZlbnRvcnknLFxuICAnL2ludmVudG9yeS8qJyxcbiAgJy9yZXBvcnRzJyxcbiAgJy9yZXBvcnRzLyonLFxuICBcbiAgLy8gQWRkIGFueSBvdGhlciBwcm90ZWN0ZWQgcGF0aHMgaGVyZVxuXVxuXG4vLyBEZWZpbmUgdGhlIHBhdGhzIHRoYXQgc2hvdWxkIGJlIHB1YmxpY1xuY29uc3QgcHVibGljUGF0aHMgPSBbXG4gICcvYXV0aC9sb2dpbicsXG4gICcvYXV0aC9zaWdudXAnLFxuICAnL2F1dGgvZm9yZ290LXBhc3N3b3JkJ1xuXVxuXG5leHBvcnQgZnVuY3Rpb24gbWlkZGxld2FyZShyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICBjb25zdCB7IHBhdGhuYW1lIH0gPSByZXF1ZXN0Lm5leHRVcmxcbiAgY29uc3QgdG9rZW4gPSByZXF1ZXN0LmNvb2tpZXMuZ2V0KCdhY2Nlc3NUb2tlbicpPy52YWx1ZVxuXG4gIGNvbnNvbGUubG9nKCdNSURETEVXQVJFOicsIHsgcGF0aG5hbWUsIHRva2VuIH0pO1xuXG4gIC8vIENoZWNrIGlmIHRoZSBwYXRoIHNob3VsZCBiZSBwcm90ZWN0ZWRcbiAgY29uc3QgaXNQcm90ZWN0ZWRQYXRoID0gcHJvdGVjdGVkUGF0aHMuc29tZShwYXRoID0+IHBhdGhuYW1lLnN0YXJ0c1dpdGgocGF0aCkpXG4gIGNvbnN0IGlzUHVibGljUGF0aCA9IHB1YmxpY1BhdGhzLnNvbWUocGF0aCA9PiBwYXRobmFtZS5zdGFydHNXaXRoKHBhdGgpKVxuXG4gIC8vIElmIGl0J3MgYSBwcm90ZWN0ZWQgcGF0aCBhbmQgdGhlcmUncyBubyB0b2tlbiwgcmVkaXJlY3QgdG8gbG9naW5cbiAgaWYgKGlzUHJvdGVjdGVkUGF0aCAmJiAhdG9rZW4pIHtcbiAgICBjb25zdCBsb2dpblVybCA9IG5ldyBVUkwoJy9hdXRoL2xvZ2luJywgcmVxdWVzdC51cmwpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdChsb2dpblVybClcbiAgfVxuXG4gIC8vIElmIHVzZXIgaXMgbG9nZ2VkIGluIGFuZCB0cmllcyB0byBhY2Nlc3MgYXV0aCBwYWdlcywgcmVkaXJlY3QgdG8gZGFzaGJvYXJkXG4gIGlmIChpc1B1YmxpY1BhdGggJiYgdG9rZW4pIHtcbiAgICBjb25zdCBkYXNoYm9hcmRVcmwgPSBuZXcgVVJMKCcvZGFzaGJvYXJkcy9tYWluJywgcmVxdWVzdC51cmwpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdChkYXNoYm9hcmRVcmwpXG4gIH1cblxuXG4gIHJldHVybiBOZXh0UmVzcG9uc2UubmV4dCgpXG59XG5cbi8vIENvbmZpZ3VyZSB3aGljaCBwYXRocyB0aGUgbWlkZGxld2FyZSBzaG91bGQgcnVuIG9uXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xuICBtYXRjaGVyOiBbXG4gICAgLypcbiAgICAgKiBNYXRjaCBhbGwgcmVxdWVzdCBwYXRocyBleGNlcHQgZm9yIHRoZSBvbmVzIHN0YXJ0aW5nIHdpdGg6XG4gICAgICogLSBhcGkgKEFQSSByb3V0ZXMpXG4gICAgICogLSBfbmV4dC9zdGF0aWMgKHN0YXRpYyBmaWxlcylcbiAgICAgKiAtIF9uZXh0L2ltYWdlIChpbWFnZSBvcHRpbWl6YXRpb24gZmlsZXMpXG4gICAgICogLSBmYXZpY29uLmljbyAoZmF2aWNvbiBmaWxlKVxuICAgICAqIC0gYXNzZXRzIChwdWJsaWMgYXNzZXRzKVxuICAgICAqL1xuICAgICcvKCg/IWFwaXxfbmV4dC9zdGF0aWN8X25leHQvaW1hZ2V8ZmF2aWNvbi5pY298YXNzZXRzKS4qKScsXG4gIF0sXG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInByb3RlY3RlZFBhdGhzIiwicHVibGljUGF0aHMiLCJtaWRkbGV3YXJlIiwicmVxdWVzdCIsInBhdGhuYW1lIiwibmV4dFVybCIsInRva2VuIiwiY29va2llcyIsImdldCIsInZhbHVlIiwiY29uc29sZSIsImxvZyIsImlzUHJvdGVjdGVkUGF0aCIsInNvbWUiLCJwYXRoIiwic3RhcnRzV2l0aCIsImlzUHVibGljUGF0aCIsImxvZ2luVXJsIiwiVVJMIiwidXJsIiwicmVkaXJlY3QiLCJkYXNoYm9hcmRVcmwiLCJuZXh0IiwiY29uZmlnIiwibWF0Y2hlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./middleware.ts\n");

/***/ })

});